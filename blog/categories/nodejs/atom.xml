<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: nodejs | Like的世界]]></title>
  <link href="http://www.malike.net.cn/blog/categories/nodejs/atom.xml" rel="self"/>
  <link href="http://www.malike.net.cn/"/>
  <updated>2016-07-09T16:54:26+00:00</updated>
  <id>http://www.malike.net.cn/</id>
  <author>
    <name><![CDATA[Like Ma]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[nvm简介——Debian/Ubuntu中管理多版本Node.js]]></title>
    <link href="http://www.malike.net.cn/blog/2016/06/09/nvm-tutorial/"/>
    <updated>2016-06-09T00:00:00+00:00</updated>
    <id>http://www.malike.net.cn/blog/2016/06/09/nvm-tutorial</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/creationix/nvm">nvm</a>是管理Node.js版本的工具，它支持在多个Node.js版本间切换。</p>

<h2>一、安装nvm</h2>

<pre><code class="bash">git clone https://github.com/creationix/nvm.git ~/.nvm
cd ~/.nvm
git checkout `git describe --abbrev=0 --tags
</code></pre>

<p>激活nvm</p>

<pre><code class="bash">. $NVM_DIR/nvm.sh
</code></pre>

<p>为了每次登录后自动激活nvm，需要将<code>NMV_DIR</code>、<code>nvm.sh</code>和补齐加入bash的~/.bashrc（或zsh的~/.zshrc）</p>

<pre><code class="bash">export NVM_DIR=~/.nvm
[ -s "$NVM_DIR/nvm.sh" ] &amp;&amp; . "$NVM_DIR/nvm.sh"
[ -r $NVM_DIR/bash_completion ] &amp;&amp; . $NVM_DIR/bash_completion
</code></pre>

<h2>二、nvm常用命令</h2>

<h3>列表可安装的Node.js版本</h3>

<pre><code class="bash">nvm ls-remote
</code></pre>

<p>除了Node.js官方版本，还支持io.js</p>

<h3>安装指定版本的Node.js</h3>

<pre><code class="bash">nvm install 6.2.1
</code></pre>

<p>它会自动下载指定版本的Node.js二进制包（不需要编译源码），安装在~/.nvm/versions/node</p>

<h3>卸载指定版本的Node.js</h3>

<pre><code class="bash">nvm uninstall 6.2.1
</code></pre>

<h3>设置shell的Node.js版本</h3>

<pre><code class="bash">nvm use 6.2.1
</code></pre>

<p>它将Node.js指定版本的bin路径加入PATH.</p>

<p>还原环境变量PATH</p>

<pre><code class="bash">nvm deactivate
</code></pre>

<h3>迁移npm至新版本的Node.js</h3>

<pre><code>nvm install node --reinstall-packages-from=node
</code></pre>

<p>或</p>

<pre><code>nvm install v6.2.1 --reinstall-packages-from=5.0
</code></pre>

<h3>.nvmrc</h3>

<p>它存储在工程根目录中，用于记录该工程依赖的Node.js版本</p>

<pre><code class="bash">echo 6.2.1 &gt; .nvmrc
</code></pre>

<p>进入工程目录（当前目录），运行</p>

<pre><code class="bash">nvm use
</code></pre>

<p>将根据.nvmrc指定shell的Nodejs版本</p>

<h2>三、升级nvm</h2>

<pre><code class="bash">cd $NVM_DIR
git fetch origin
git checkout `git describe --abbrev=0 --tags`
</code></pre>

<p>升级完成后，需要重新激活nvm</p>

<pre><code class="bash">. $NVM_DIR/nvm.sh
</code></pre>
]]></content>
  </entry>
  
</feed>
